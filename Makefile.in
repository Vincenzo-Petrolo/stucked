# Makefile template (generated by configure)
CC=@CC@
CFLAGS=@CFLAGS@
PREFIX=@PREFIX@
BINDIR=$(PREFIX)/bin
MANDIR=$(PREFIX)/share/man/man1

PROG=stucked
SRC_DIR=src
MAN_PAGE=man/$(PROG).1

all: $(PROG)

$(PROG): $(SRC_DIR)/stucked.c $(SRC_DIR)/graph.c $(SRC_DIR)/dictionary.c
	@mkdir -p bin
	$(CC) $(CFLAGS) -DSTUCKED_VERSION=\"@VERSION@\" -o bin/$(PROG) $(SRC_DIR)/stucked.c

install: $(PROG)
	@mkdir -p $(DESTDIR)$(BINDIR)
	@mkdir -p $(DESTDIR)$(MANDIR)
	install -m 0755 bin/$(PROG) $(DESTDIR)$(BINDIR)/$(PROG)
	install -m 0644 $(MAN_PAGE) $(DESTDIR)$(MANDIR)/$(PROG).1

uninstall:
	rm -f $(DESTDIR)$(BINDIR)/$(PROG)
	rm -f $(DESTDIR)$(MANDIR)/$(PROG).1

clean:
	rm -rf bin

.PHONY: all install uninstall clean
